var fusion=function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,i="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=i||l||Function("return this")(),d=Object.prototype.toString,u=Math.max,h=Math.min,p=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var i=a.test(e);return i||o.test(e)?s(e.slice(2),i?2:8):r.test(e)?NaN:+e}var m=function(e,t,n){var r,a,o,s,i,l,c=0,d=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,o=a;return r=a=void 0,c=t,s=e.apply(o,n)}function E(e){return c=e,i=setTimeout(w,t),d?b(e):s}function _(e){var n=e-l;return void 0===l||n>=t||n<0||m&&e-c>=o}function w(){var e=p();if(_(e))return y(e);i=setTimeout(w,function(e){var n=t-(e-l);return m?h(n,o-(e-c)):n}(e))}function y(e){return i=void 0,v&&r?b(e):(r=a=void 0,s)}function A(){var e=p(),n=_(e);if(r=arguments,a=this,l=e,n){if(void 0===i)return E(l);if(m)return i=setTimeout(w,t),b(l)}return void 0===i&&(i=setTimeout(w,t)),s}return t=g(t)||0,f(n)&&(d=!!n.leading,o=(m="maxWait"in n)?u(g(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),A.cancel=function(){void 0!==i&&clearTimeout(i),c=0,r=l=a=i=void 0},A.flush=function(){return void 0===i?s:y(p())},A};const v=document.createElement("div");v.classList.add("modal__container");const b=document.createElement("div");b.classList.add("modal__hidden"),v.appendChild(b);const E=document.createElement("div");E.classList.add("modal__shown"),v.appendChild(E);const _=new Map,w=new Map;let y=!1;class A{static create(e){if(e instanceof A)return e;if(!_.has(e)){const t=new this.prototype.constructor(...arguments);_.set(e,t),e.hasAttribute("id")&&w.set(e.getAttribute("id"),t)}return _.get(e)}static has(e){return _.has(e)}static hide(e){let t=e;do{if(A.has(t))return A.create(t).hide(),!0}while(t=t.parentNode)}static remove(e){let t=e;do{if(A.has(t))return A.create(t).remove(),!0}while(t=t.parentNode)}constructor(e){this.modal=document.createElement("div"),this.modal.classList.add("modal"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("modal__wrapper"),this.modal.appendChild(this.wrapper),e.matches(".modal__content")?this.content=e:(this.content=document.createElement("div"),this.content.classList.add("modal__content"),this.content.appendChild(e)),this.wrapper.appendChild(this.content),e.hasAttribute("id")&&this.modal.setAttribute("id",e.getAttribute("id")+"--outer"),e.hasAttribute("modal-class")&&this.modal.classList.add(e.getAttribute("modal-class")),"none"===e.style.display&&e.style.removeProperty("display"),b.appendChild(this.modal)}appendChild(e){return this.content.appendChild(e),this._postUpdateContent(),this}clear(){for(;this.content.firstChild;)this.content.removeChild(this.content.firstChild);return this._postUpdateContent(),this}hide(){return E.contains(this.modal)&&this.modal.dispatchEvent(T("modal-hide",this.modal,!0))&&(this.modal.classList.remove("hidden"),b.appendChild(this.modal),this._removeEvents(),document.dispatchEvent(T("modal-hidden",this.modal))),this}remove(){return this.modal.parentElement.removeChild(this.modal),this._removeEvents(),document.dispatchEvent(T("modal-removed",this.modal)),this}show(){return!E.contains(this.modal)&&document.dispatchEvent(T("modal-show",this.modal,!0))&&(E.appendChild(this.modal),y||(y=!0,document.body.appendChild(v)),this._postUpdateContent(),this._addEvents(),this.modal.classList.remove("hidden"),this.modal.dispatchEvent(T("modal-shown",this.modal))),this}_postUpdateContent(){this.content.querySelectorAll("[id]").forEach(e=>{const t=e.getAttribute("id");(e.matches(".modal__content")||document.querySelectorAll(`[modal-launcher="${t}"],[modal-closer="${t}"]`).length>0)&&A.create(e)}),this.updatePosition()}updatePosition(){const e=getComputedStyle(this.modal),t=parseInt(e.paddingTop)+parseInt(e.paddingBottom)||0,n=Math.max(0,this.modal.clientHeight-this.wrapper.offsetHeight-t);return this.wrapper.style.top=n/3+"px",this}_addEvents(){this._removeEvents();const e=x(this);return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),this}_removeEvents(){const e=x(this);return window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),this}}const L=new Map;function x(e){return L.has(e)||L.set(e,m(e.updatePosition.bind(e),200,{maxWait:500})),L.get(e)}function T(e,t,n=!1){return new CustomEvent(e,{detail:{modal:t},cancelable:n,bubbles:!0})}document.addEventListener("click",e=>{e.target.closest("[modal-closer]")&&(e.preventDefault(),A.hide(e.target));const t=e.target.closest("[modal-launcher]");if(t){e.preventDefault();const n=t.getAttribute("modal-launcher"),r=document.getElementById(n)||w.get(n);if(!r)return void console.error("No modal could be found with the id "+t.getAttribute("modal-launcher"));A.create(r).show()}}),document.addEventListener("keyup",e=>{if("Escape"===e.key||"Esc"===e.key||27===e.keyCode){const t=document.querySelector(".modal:last-of-type .modal__content [modal-closer]");t&&(e.preventDefault(),A.hide(t))}});var C=Object.freeze({__proto__:null,default:A});function S(e,t,n,r){void 0===r&&(r=n,n=""),e.addEventListener(t,(function(t){if(!n)return r(t);let a=t.target;do{if(a.matches(n))return t.delegateTarget=a,r(t)}while(a.parentElement&&(a=a.parentElement)&&e.contains(a))}))}function O(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}function k(e){const t=(e.getAttribute("checked-class")||"").split(" ").filter(e=>!!e);e.querySelector(".toggle-button__checkbox").checked?(e.setAttribute("checked",""),t.length&&e.classList.add.apply(e.classList,t)):(e.removeAttribute("checked"),t.length&&e.classList.remove.apply(e.classList,t))}O((function(){setTimeout((function(){document.body.classList.add("f-loaded")}),0)})),window.addEventListener("touchstart",(function e(){document.body.classList.add("touch-enabled"),window.removeEventListener("touchstart",e,!1)}),!1),S(document,"click",".toggle-button",e=>{e.preventDefault();let t=e.delegateTarget,n=t.querySelector(".toggle-button__checkbox");if("radio"===n.getAttribute("type")&&n.checked)return;n.checked=!n.checked,k(t);let r=new CustomEvent("change",{bubbles:!0,cancelable:!0});if(t.dispatchEvent(r),n.hasAttribute("name")&&"radio"===n.getAttribute("type")){document.querySelectorAll('.toggle-button__checkbox[type="radio"][name="'+n.getAttribute("name")+'"]').forEach(e=>{if(e!==n){k(e.closest(".toggle-button"))}})}});var P=Object.freeze({__proto__:null});class j{get action(){throw"not implemented"}process(e,t,n,r){throw"not implemented"}}class q{get xhrClass(){return this._xhrClass||q._XHR||XMLHttpRequest}static set xhrClass(e){q._XHR=e}static get GET(){return"get"}static get POST(){return"post"}static get PUT(){return"put"}static get DELETE(){return"delete"}constructor(e,t){this.url=e,this.method=q.GET,this.data={},this.headers={},this.responseType=null,this.downloadEventCallback=null,this.uploadEventCallback=null,this.withCredentials=null,this._xhr=null,this._xhrClass=t}setUrl(e){return this.url=e,this}setMethod(e){return this.method=e,this}setData(e){return this.data=e,this}setHeaders(e){return this.headers=e,this}setResponseType(e){return this.responseType=e,this}setEventCallback(e,t){return this.downloadEventCallback=e,this.uploadEventCallback=t,this}setWithCredentials(e){return this.withCredentials=e,this}send(){const e=this;return new Promise((t,n)=>{const r=this._xhr=new this.xhrClass;let a;if(this.downloadEventCallback&&(r.addEventListener("loadstart",this.downloadEventCallback),r.addEventListener("load",this.downloadEventCallback),r.addEventListener("loadend",this.downloadEventCallback),r.addEventListener("progress",this.downloadEventCallback),r.addEventListener("error",this.downloadEventCallback),r.addEventListener("abort",this.downloadEventCallback)),this.uploadEventCallback&&(r.addEventListener("loadstart",this.uploadEventCallback),r.addEventListener("load",this.uploadEventCallback),r.addEventListener("loadend",this.uploadEventCallback),r.addEventListener("progress",this.uploadEventCallback),r.addEventListener("error",this.uploadEventCallback),r.addEventListener("abort",this.uploadEventCallback)),r.addEventListener("load",()=>{e._xhr=null,t(r)}),r.addEventListener("error",()=>{e._xhr=null,n(r)}),r.addEventListener("abort",()=>{e._xhr=null}),this.responseType&&(r.responseType=this.responseType),"object"!=typeof this.data||this.data instanceof FormData)a=this.data;else{a=new FormData;for(let e in this.data)this.data.hasOwnProperty(e)&&a.append(e,this.data[e])}if(r.open(this.method,this.url,!0),this.withCredentials&&(r.withCredentials=this.withCredentials),this.headers)for(let e in this.headers)this.headers.hasOwnProperty(e)&&r.setRequestHeader(e,this.headers[e]);r.send(a)})}abort(){this._xhr&&this._xhr.abort&&this._xhr.abort()}}var R=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){
/*!
	 * History API JavaScript Library v4.2.10
	 *
	 * Support: IE8+, FF3+, Opera 9+, Safari, Chrome and other
	 *
	 * Copyright 2011-2018, Dmitrii Pakhtinov ( spb.piksel@gmail.com )
	 *
	 * http://spb-piksel.ru/
	 *
	 * MIT license:
	 *   http://www.opensource.org/licenses/mit-license.php
	 *
	 * Update: 2018-04-15 13:54
	 */
e.exports=function(){var e=("object"==typeof window?window:this)||{};if(!e.history||"emulate"in e.history)return e.history;var t,n,r=e.document,a=r.documentElement,o=e.Object,s=e.JSON,i=e.location,l=e.history,c=l,d=l.pushState,u=l.replaceState,h=(-1===(n=e.navigator.userAgent).indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&!!d,p="state"in l,f=o.defineProperty,g=D({},"t")?{}:r.createElement("a"),m="",v=e.addEventListener?"addEventListener":(m="on")&&"attachEvent",b=e.removeEventListener?"removeEventListener":"detachEvent",E=e.dispatchEvent?"dispatchEvent":"fireEvent",_=U(e[v]),w=U(e[b]),y=U(e[E]),A={basepath:"/",redirect:0,type:"/",init:0},L=r.createElement("a"),x=i.href,T="",C=1,S=!1,O=0,k={},P={},j=r.title,q={onhashchange:null,onpopstate:null},R=function(t,n){var r=e.history!==l;r&&(e.history=l),t.apply(l,n),r&&(e.history=c)},I={setup:function(e,t,n){A.basepath=(""+(null==e?A.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),A.type=null==t?A.type:t,A.redirect=null==n?A.redirect:!!n},redirect:function(t,n){if(c.setup(n,t),n=A.basepath,e.top==e.self){var r=$(null,!1,!0)._relative,a=i.pathname+i.search;h?(a=a.replace(/([^\/])$/,"$1/"),r!=n&&new RegExp("^"+n+"$","i").test(a)&&i.replace(r)):a!=n&&(a=a.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(a)&&i.replace(n+"#"+a.replace(new RegExp("^"+n,"i"),A.type)+i.hash))}},pushState:function(e,t,n){var a=r.title;null!=j&&(r.title=j),d&&R(d,arguments),W(e,n),r.title=a,j=t},replaceState:function(e,t,n){var a=r.title;null!=j&&(r.title=j),delete k[i.href],u&&R(u,arguments),W(e,n,!0),r.title=a,j=t},location:{set:function(t){0===O&&(O=1),e.location=t},get:function(){return 0===O&&(O=1),g}},state:{get:function(){return"object"==typeof k[i.href]?s.parse(s.stringify(k[i.href])):void 0!==k[i.href]?k[i.href]:null}}},M={assign:function(e){h||0!==(""+e).indexOf("#")?i.assign(e):W(null,e)},reload:function(e){i.reload(e)},replace:function(e){h||0!==(""+e).indexOf("#")?i.replace(e):W(null,e,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==t?t:i.origin?i.origin:i.protocol+"//"+i.hostname+(i.port?":"+i.port:"")},set:function(e){t=e}},href:h?null:{get:function(){return $()._href}},protocol:null,host:null,hostname:null,port:null,pathname:h?null:{get:function(){return $()._pathname}},search:h?null:{get:function(){return $()._search}},hash:h?null:{set:function(e){W(null,(""+e).replace(/^(#|)/,"#"),!1,x)},get:function(){return $()._hash}}};function N(){}function $(e,t,n){if(null==e||""===e||t)e=t?e:i.href,h&&!n||(e=e.replace(/^[^#]*/,"")||"#",e=i.protocol.replace(/:.*$|$/,":")+"//"+i.host+A.basepath+e.replace(new RegExp("^#[/]?(?:"+A.type+")?"),""));else{var a=$(),o=r.getElementsByTagName("base")[0];!n&&o&&o.getAttribute("href")&&(o.href=o.href,a=$(o.href,null,!0));var s=a._pathname,l=a._protocol;e=/^(?:\w+\:)?\/\//.test(e=""+e)?0===e.indexOf("/")?l+e:e:l+"//"+a._host+(0===e.indexOf("/")?e:0===e.indexOf("?")?s+e:0===e.indexOf("#")?s+a._search+e:s.replace(/[^\/]+$/g,"")+e)}L.href=e;var c=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(L.href),d=c[2]+(c[3]?":"+c[3]:""),u=c[4]||"/",p=c[5]||"",f="#"===c[6]?"":c[6]||"",g=u+p+f,m=u.replace(new RegExp("^"+A.basepath,"i"),A.type)+p;return{_href:c[1]+"//"+d+g,_protocol:c[1],_host:d,_hostname:c[2],_port:c[3]||"",_pathname:u,_search:p,_hash:f,_relative:g,_nohash:m,_special:m+f}}function U(t){return t&&e&&e.EventTarget&&"function"==typeof e.EventTarget.prototype.addEventListener&&"function"==typeof t.bind?t.bind(e):t}function D(t,n,r,a){var s=0;r||(r={set:N},s=1);var i=!r.set,l=!r.get,c={configurable:!0,set:function(){i=1},get:function(){l=1}};try{f(t,n,c),t[n]=t[n],f(t,n,r)}catch(e){}if(!(i&&l||(t.__defineGetter__&&(t.__defineGetter__(n,c.get),t.__defineSetter__(n,c.set),t[n]=t[n],r.get&&t.__defineGetter__(n,r.get),r.set&&t.__defineSetter__(n,r.set)),i&&l))){if(s)return!1;if(t===e){try{var d=t[n];t[n]=null}catch(e){}if("execScript"in e)e.execScript("Public "+n,"VBScript"),e.execScript("var "+n+";","JavaScript");else try{f(t,n,{value:N})}catch(e){"onpopstate"===n&&(_("popstate",r=function(){w("popstate",r,!1);var e=t.onpopstate;t.onpopstate=null,setTimeout((function(){t.onpopstate=e}),1)},!1),C=0)}t[n]=d}else try{try{var u=o.create(t);for(var h in f(o.getPrototypeOf(u)===t?u:t,n,r),t)"function"==typeof t[h]&&(u[h]=t[h].bind(t));try{a.call(u,u,t)}catch(e){}t=u}catch(e){f(t.constructor.prototype,n,r)}}catch(e){return!1}}return t}function z(e,t,n){return e=e===M?i:e,(n=n||{}).set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function B(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),a=P[r];if(a){if(null==(n="string"==typeof t?n:t).target)for(var o=["target","currentTarget","srcElement","type"];t=o.pop();)n=D(n,t,{get:"type"===t?function(){return r}:function(){return e}});C&&(("popstate"===r?e.onpopstate:e.onhashchange)||N).call(e,n);for(var s=0,i=a.length;s<i;s++)a[s].call(e,n);return!0}return y(t,n)}function H(){var e=r.createEvent?r.createEvent("Event"):r.createEventObject();e.initEvent?e.initEvent("popstate",!1,!1):e.type="popstate",e.state=c.state,B(e)}function W(e,t,n,r){if(h)x=i.href;else{0===O&&(O=2);var a=$(t,2===O&&-1!==(""+t).indexOf("#"));a._relative!==$()._relative&&(x=r,n?i.replace("#"+a._special):i.hash=a._special)}!p&&e&&(k[i.href]=e),S=!1}function F(t){var n=x;if(x=i.href,n){T!==i.href&&H(),t=t||e.event;var r=$(n,!0),a=$();t.oldURL||(t.oldURL=r._href,t.newURL=a._href),r._hash!==a._hash&&B(t)}}function G(e){setTimeout((function(){_("popstate",(function(e){T=i.href,p||(e=D(e,"state",{get:function(){return c.state}})),B(e)}),!1)}),0),!h&&!0!==e&&"location"in c&&(X(g.hash),S&&(S=!1,H()))}function V(t){var n=t||e.event,r=function(e){for(;e;){if("A"===e.nodeName)return e;e=e.parentNode}}(n.target||n.srcElement),a="defaultPrevented"in n?n.defaultPrevented:!1===n.returnValue;if(r&&"A"===r.nodeName&&!a){var o=$(),s=$(r.getAttribute("href",2));o._href.split("#").shift()===s._href.split("#").shift()&&s._hash&&(o._hash!==s._hash&&(g.hash=s._hash),X(s._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function X(t){var n=r.getElementById(t=(t||"").replace(/^#/,""));if(n&&n.id===t&&"A"===n.nodeName){var o=n.getBoundingClientRect();e.scrollTo(a.scrollLeft||0,o.top+(a.scrollTop||0)-(a.clientTop||0))}}return function(){var t=r.getElementsByTagName("script"),n=(t[t.length-1]||{}).src||"";(-1!==n.indexOf("?")?n.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,(function(e,t,n){A[t]=(n||"").replace(/^(0|false)$/,"")})),_(m+"hashchange",F,!1);var a=[M,g,q,e,I,c];p&&delete I.state;for(var o=0;o<a.length;o+=2)for(var l in a[o])if(a[o].hasOwnProperty(l))if("object"!=typeof a[o][l])a[o+1][l]=a[o][l];else{var d=z(a[o],l,a[o][l]);if(!D(a[o+1],l,d,(function(t,n){n===c&&(e.history=c=a[o+1]=t)})))return w(m+"hashchange",F,!1),!1;a[o+1]===e&&(P[l]=P[l.substr(2)]=[])}return c.setup(),A.redirect&&c.redirect(),A.init&&(O=1),!p&&s&&function(){var t;try{(t=e.sessionStorage).setItem("__historyAPI__t","1"),t.removeItem("__historyAPI__t")}catch(e){t={getItem:function(e){var t=r.cookie.split(e+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(e,t){var n={};(n[i.href]=c.state)&&(r.cookie=e+"="+s.stringify(n))}}}try{k=s.parse(t.getItem("__historyAPI__"))||{}}catch(e){k={}}_(m+"unload",(function(){t.setItem("__historyAPI__",s.stringify(k))}),!1)}(),h||r[v](m+"click",V,!1),"complete"===r.readyState?G(!0):(h||$()._relative===A.basepath||(S=!0),_(m+"load",G,!1)),!0}()?(c.emulate=!h,e[v]=function(e,t,n){e in P?P[e].push(t):arguments.length>3?_(e,t,n,arguments[3]):_(e,t,n)},e[b]=function(e,t,n){var r=P[e];if(r){for(var a=r.length;a--;)if(r[a]===t){r.splice(a,1);break}}else w(e,t,n)},e[E]=B,c):void 0}()}));function I(e,t,n,r){if(t&&"#"===t)return;const a=[];let o=e;do{o&&o.matches("[data-self-uri]")&&a.push({targetId:o.getAttribute("id"),url:o.getAttribute("data-self-uri")})}while(o=o.parentElement);const s={paths:a.reverse(),pushUrl:t};r?R.replaceState(s,null,t):R.pushState(s,null,t)}const M=R.location||window.location;
/*! (c) Andrea Giammarchi - ISC */
var N={};try{N.EventTarget=(new EventTarget).constructor}catch(e){!function(e,t){var n=e.create,r=e.defineProperty,a=o.prototype;function o(){t.set(this,n(null))}function s(e,t,n){r(e,t,{configurable:!0,writable:!0,value:n})}function i(e){var t=e.options;t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"==typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this)}s(a,"addEventListener",(function(e,n,r){for(var a=t.get(this),o=a[e]||(a[e]=[]),s=0,i=o.length;s<i;s++)if(o[s].listener===n)return;o.push({target:this,listener:n,options:r})})),s(a,"dispatchEvent",(function(e){var n=t.get(this)[e.type];return n&&(s(e,"target",this),s(e,"currentTarget",this),n.slice(0).forEach(i,e),delete e.currentTarget,delete e.target),!0})),s(a,"removeEventListener",(function(e,n){for(var r=t.get(this),a=r[e]||(r[e]=[]),o=0,s=a.length;o<s;o++)if(a[o].listener===n)return void a.splice(o,1)})),N.EventTarget=o}(Object,new WeakMap)}var $=N.EventTarget;class U{constructor(){this._processors=new Map}iterate(e,t,n,r){return(e=e||[]).reduce(async(e,a)=>(n._processedActions=n._processedActions||[],n._processedActions.push(a),r.synchronous&&await e,this._getPromiseForAction(a,t,n,r)),Promise.resolve())}addProcessor(e){this._processors.set(e.action,e)}clone(){const e=new U;return this._processors.forEach(t=>{e.addProcessor(Object.assign(Object.create(Object.getPrototypeOf(t)),t))}),e}_getPromiseForAction(e,t,n,r){const a=this._processors.get(e.action);return a?a.process(e,t,n,r):new Promise(e=>e())}}const D=R.location||window.location,z="prepare",B="progress",H="requested",W="retrieved",F="rendered",G="complete",V="cancelled",X="error",J="",Z="requested",K="loading",Q="loaded",Y="refreshing",ee="error",te={selector:"a[data-uri],button[data-uri],[href][data-target]",allowPersistentTargets:!0,handleForms:!0,listenElement:document,minRefreshRate:500,iterator:new U};class ne extends ${constructor(e){super(),e.iterator=e.iterator||ae.iterator,Object.assign(this,e)}addProcessor(e){return Object.is(this.iterator,ae.iterator)&&(this.iterator=ae.iterator.clone()),this.iterator.addProcessor(e),this}get getResolvedTarget(){return!1===this.targetElement?null:this.targetElement instanceof Element?this.targetElement:(e=this.targetElement||ae.defaultTarget)&&ae.listenElement.getElementById(e)||document.body;var e}getRequestMethod(){return this.method||(this.data?q.POST:q.GET)}get getPushUrl(){return this.pushUrl||this.sourceElement&&this.sourceElement.getAttribute("href")||null}triggerEvent(e,t={},n=!1){const r=new CustomEvent(e,{detail:Object.assign({},t,{request:this}),bubbles:!0,cancelable:n});return(this.triggerOnRequest?this:ae.listenElement).dispatchEvent(r)}static fromElement(e){let t=String(e.getAttribute("data-uri"));const n=new ne({url:t,sourceElement:e,targetElement:e.getAttribute("data-target")});if(e instanceof HTMLFormElement){const r=new FormData(e);n.data=r,n.method=String(e.method),e.method.toLowerCase()===q.GET&&(n.url=t+(t.indexOf("?")>-1?"&":"?")+[...r.entries()].map(e=>`${encodeURIComponent(e[0])}=${encodeURIComponent(String(e[1]))}`).join("&"),n.pushUrl=n.url)}return n}}class re{constructor(e){Object.assign(this,e)}}let ae=Object.assign({},te);const oe=new Map;function se(e){return e instanceof ne||(e=new ne(e)),new Promise(t=>{const n=e.getResolvedTarget;if(de(n,Z),e.triggerEvent(z,{},!0)){if(!e.url||/^#/.test(e.url))return de(n,ee),void e.triggerEvent(X,{error:"invalid url"});le(n),oe.has(n)&&(oe.get(n).abort(),oe.delete(n));const r=new q(e.url);oe.set(n,r),r.setWithCredentials(e.withCredentials).setMethod(e.getRequestMethod()).setHeaders({"x-requested-with":"XMLHttpRequest","x-pagelet-request":"1","x-pagelet-target":n.getAttribute("id")||"","x-pagelet-fragment":e.url.replace(/^.*?(#|$)/,"")}).setEventCallback(t=>{switch(t.type){case"loadstart":de(n,n.getAttribute("data-self-uri")===e.url?Y:K);break;case"progress":e.triggerEvent(B);break;case"abort":de(n,J),e.triggerEvent(V);break;case"error":de(n,ee),e.triggerEvent(X)}}).setData(e.data),r.send().then(r=>{de(n,Q);const a=function(e){const t=e.getResponseHeader("content-type");let[n]=t.split(";");const r=e.responseText.replace(/^while\(1\);|for\(;;\);|\)]}'/,""),a={status:e.status,statusText:e.statusText,headers:ue(e.getAllResponseHeaders())};switch(n){case"":case"text/plain":case"text/html":const t={};return 200===e.status&&(t.actions=[{action:"content",content:r}]),new re(Object.assign(t,a));case"application/json":case"application/javascript":return new re(Object.assign(JSON.parse(r),a));default:throw"not a valid response"}}(r),o={request:e,response:a};e.triggerEvent(W,o,!0)&&function(e,t){const n=e.getResolvedTarget;return e.iterator.iterate(t.actions,e,t,ae).then(()=>{e.triggerEvent(F,{response:t},!0)&&(function(e){e=e||ae.listenElement;e.querySelectorAll("[data-self-uri]").forEach(e=>{e.pageletInitialized||(e.pageletInitialized=!0,ce(e))})}(n),function(e){if(le(e),document.contains(e)){if(e.hasAttribute("data-refresh")){const t=Math.max(ae.minRefreshRate,e.getAttribute("data-refresh"));ie.set(e,setTimeout(()=>ce(e),t))}}else ie.delete(e)}(n));const r=e.getPushUrl;if(r&&r!==D.href.substr(-r.length)){t._processedActions&&t._processedActions.reduce((e,t)=>e||"location"===t.action,!1)||I(e.getResolvedTarget,r,e.url,!1)}}).catch(()=>{de(n,ee),e.triggerEvent(X)})}(e,a).then(()=>e.triggerEvent(G,o)),t(o)}).then(()=>{de(n,J)}).catch(t=>{t&&t.statusText&&console.warn(t.statusText),de(n,ee),e.triggerEvent(X)}),e.triggerEvent(H)}})}const ie=new WeakMap;function le(e){ie.has(e)&&clearTimeout(ie.get(e))}function ce(e){if(e){const t=e.getAttribute("data-self-uri");t&&se(new ne({url:t,sourceElement:e,targetElement:e}))}}function de(e,t){t?e.setAttribute("data-pagelet-state",t):e.removeAttribute("data-pagelet-state")}function ue(e){const t={};return e.trim().split(/[\r\n]+/).forEach(e=>{const n=e.split(": "),r=n.shift();t[r]=n.join(": ")}),t}function he(e){ae.iterator.addProcessor(e)}window.addEventListener("popstate",e=>{const t=e.state;t&&(t.paths.length>0?t.paths.slice(0).reduce(async(e,{targetId:n,url:r},a,o)=>{await e;const s=ae.listenElement.getElementById(n);return s?a===o.length-1||s.getAttribute("data-self-uri")!==r?se(new ne({url:r,targetElement:s})):Promise.resolve():(D.replace(t.pushUrl),o.splice(0),Promise.resolve())},Promise.resolve()):D.replace(t.pushUrl))});function pe(e){return e.filter((function(e){return!document.querySelector('script[src="'+e+'"]')}))}function fe(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.setAttribute("type","text/javascript"),r.addEventListener("load",t),r.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(r)})}function ge(e){return e.filter((function(e){return!document.querySelector('link[rel="stylesheet"][href="'+e+'"]')}))}function me(e){return new Promise((t,n)=>{const r=document.createElement("link");r.setAttribute("href",e),r.setAttribute("rel","stylesheet"),r.addEventListener("load",t),r.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(r)})}function ve(e,t,n){return new Promise((r,a)=>{if((e=t(e)).length<=0)return void r();const o=e.length;let s=0;for(let t=0;t<e.length;t++)n(e[t]).then(()=>{s++,s>=o&&r()}).catch(a)})}function be(){document.querySelectorAll(".step-wrapper").forEach(e=>{const t=e.querySelectorAll(".step");t.forEach((e,n)=>{e.classList.toggle("step--last",n===t.length-1)})})}he(new class extends j{get action(){return"content"}process(e,t,n,r){return new Promise(n=>{if(!1!==e.target){let n;e.target?n=r.listenElement.getElementById(e.target):(n=t.getResolvedTarget,n&&t.getRequestMethod()===q.GET&&n.setAttribute("data-self-uri",t.url)),n?n.innerHTML=e.content:console.warn("content target does not exist",t,e)}n()})}}),he(new class extends j{get action(){return"location"}process(e,t,n,r){return new Promise(n=>{e.reload?e.replace?M.replace(e.url):M.assign(e.url):I(t.getResolvedTarget,e.url,t.url,e.replace),n()})}}),he(new class extends j{get action(){return"load"}process(e,t,n,r){return se(new ne({url:e.url,targetElement:e.target||t.targetElement}))}}),he(new class extends j{get action(){return"resource"}process(e,t,n,r){switch(e.type){case"css":if(e.inline){const t=function(e,t,n){var r,a,o=void 0===n?2166136261:n;for(r=0,a=e.length;r<a;r++)o^=e.charCodeAt(r),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);if(t)return("0000000"+(o>>>0).toString(16)).substr(-8);return o>>>0}(e.data,!0);if(document.querySelector(`[hash="${t}"]`))return;const n=document.createElement("style");n.setAttribute("hash",t),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e.data:n.appendChild(document.createTextNode(e.data)),document.head.append(n);break}return ve([e.data],ge,me);case"js":if(e.inline){new Function(e.data)();break}return function(e){return ve(e,pe,fe)}([e.data])}return new Promise(e=>e())}}),he(new class extends j{get action(){return"refresh"}process(e,t,n,r){return new Promise(n=>{let a;a=e.target?r.listenElement.getElementById(e.target):t.getResolvedTarget,ce(a),n()})}}),he(new class extends j{get action(){return"synchronous"}process(e,t,n,r){return t.iterator.iterate(e.actions,t,n,Object.assign({},r,{synchronous:!0}))}}),he(new class extends j{get action(){return"log"}process(e,t,n,r){return new Promise(t=>{console[e.level]||(e.level="log"),console[e.level](e.message),t()})}}),O(be),document.addEventListener(G,be);var Ee=Object.freeze({__proto__:null});let _e=document.querySelectorAll(".toast-notification-container");if(_e){function we(e){e.classList.add("toast-notification--fade"),setTimeout(()=>{e.classList.add("toast-notification--hide")},500)}_e.forEach(e=>{let t=e.getElementsByClassName("toast-notification");for(let e=0;e<t.length;e++){let n=parseInt(t[e].getAttribute("data-toast-notification-time-to-show")),r=parseInt(t[e].getAttribute("data-toast-notification-delay"));setTimeout(()=>{t[e].classList.add("toast-notification--show")},r),0!==n&&setTimeout(()=>we(t[e]),n+r),t[e].classList.contains("toast-notification--removable")&&t[e].addEventListener("click",e=>{e.preventDefault();we(e.target.closest(".toast-notification"))})}})}var ye=Object.freeze({__proto__:null});function Ae(e){let t="drawer--open-"+e.querySelector(".drawer").getAttribute("position");e.classList.remove("drawer--open"),localStorage.setItem(t,"0")}S(document,"click",".drawer__toggle",(function(e){!function(e){e&&(e.classList.contains("drawer--open")?Ae(e):function(e){let t="drawer--open-"+e.querySelector(".drawer").getAttribute("position");e.classList.add("drawer--open"),localStorage.setItem(t,"1")}(e))}(function(e){let t=e.closest(".drawer-container");t||(t=document.querySelector(".drawer-container"));return t}(e.target)),e.stopPropagation(),e.stopImmediatePropagation()})),S(document,"click","a",(function(){let e=document.querySelectorAll(".drawer");for(let t=0;t<e.length;t++)if(e.hasOwnProperty(t)){("modal"===e[t].getAttribute("reveal")||document.body.clientWidth<512)&&Ae(e[t].parentNode)}})),S(document,"click",".drawer-container.drawer--open > .drawer-app-content",(function(e){if(e.target.matches(".drawer-app-content")){if("1"===window.getComputedStyle(e.target,"::before").getPropertyValue("opacity")){let t=e.target.closest(".drawer-container"),n="drawer--open-"+t.querySelector(".drawer").getAttribute("position");t.classList.remove("drawer--open"),localStorage.setItem(n,"0")}}}));var Le=Object.freeze({__proto__:null});function xe(e,t){let n,r=e;do{r.matches(".tabs")&&(n=r)}while(r=r.parentElement);let a=n.querySelectorAll("#"+t)[0];function o(t){let r=n.querySelectorAll("."+t);for(let n in r)r.hasOwnProperty(n)&&r[n]!==e&&r[n].classList.remove(t)}o("tab__label--active"),o("tab--active"),e.classList.add("tab__label--active"),a.classList.add("tab--active");let s=new CustomEvent("change",{bubbles:!0,cancelable:!0});a.dispatchEvent(s)}if(S(document,"click",".tab__label",(function(e){let t=e.target;for(;!t.matches(".tab__label")&&t.parentElement;)t=t.parentElement;xe(t,t.getAttribute("data-tab-id"))})),window.location.hash.startsWith("#f-tb-")){let e=window.location.hash.substring(1),t=document.querySelectorAll("[data-tab-id='"+e+"']");for(let n in t)t.hasOwnProperty(n)&&xe(t[n],e)}var Te=Object.freeze({__proto__:null,SetActive:xe});function Ce(e){let t,n=e;do{n.matches(".list-box")&&(t=n)}while(n=n.parentElement);if(t){let n=t.querySelectorAll(".list__item--active");for(let t in n)n.hasOwnProperty(t)&&n[t]!==e&&n[t].classList.remove("list__item--active");e.classList.add("list__item--active")}}var Se=Object.freeze({__proto__:null,SetActive:Ce});function Oe(e){let t=document.querySelectorAll(".menu");for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];if(!r.matches(".menu .menu")){let t,n=0,a=r.querySelectorAll(".menu__item[href]");for(let r in a)if(a.hasOwnProperty(r)){let o=a[r],s=o.getAttribute("href");"?"===s[0]&&(s=e.pathname+s),new RegExp("^"+s.replace(/[\/.*+?^${}()|[\]\\]/g,"\\$&")).test(e.href.replace(e.origin,""))&&s.length>n&&(t=o,n=s.length)}t&&Ce(t)}}}S(document,"click",".menu__item",(function(e){let t=e.target;for(;!t.matches(".menu__item")&&t.parentElement;)t=t.parentElement;Ce(t)})),Oe(window.location),window.addEventListener("popstate",(function(){Oe(window.location)}));var ke=Object.freeze({__proto__:null});let Pe=null;S(document,"mousedown",".modal",e=>{e.target.matches(".modal")&&(Pe=e.target)}),S(document,"mouseup",".modal",e=>{if(Pe===e.target){const t=e.delegateTarget.querySelector(".modal__content.lightbox");t&&A.hide(t)}}),S(document,"keyup",e=>{if("Escape"===e.key||"Esc"===e.key||27===e.keyCode){const t=document.querySelector(".modal:last-of-type .modal__content.lightbox");t&&(e.preventDefault(),A.hide(t))}}),O(()=>document.querySelectorAll(".lightbox--auto-launch").forEach(e=>A.create(e).show()));var je=Object.freeze({__proto__:null});S(document,"click","[reveal-launcher]",e=>{const t=e.delegateTarget.getAttribute("reveal-launcher"),n=document.getElementById(t);if(n){const e=n.classList.toggle("show"),r=document.querySelectorAll(`[reveal-launcher="${t}"]`);n.hasAttribute("reveal-destructive")?r.forEach(e=>e.parentNode.removeChild(e)):r.forEach(t=>t.toggleAttribute("reveal-open",e))}else console.warn("Cannot reveal. The target does not exist")});var qe=Object.freeze({__proto__:null});return e.Drawer=Le,e.Lightbox=je,e.List=Se,e.Menu=ke,e.Modal=C,e.Reveal=qe,e.Tabs=Te,e.ToastNotification=ye,e.ToggleInput=P,e.VerticalStepper=Ee,e}({});
